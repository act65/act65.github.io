I"<p>I want to know how a someone’s education level correlates with their income. But I don’t have that dataset. I have datasets relating income to people and people to their eduction, it should be a simple job to align these datasets to find what I am looking for. And it is, if you are familiar with matrix operations, some light coding, …</p>

<hr />

<p>The problem is siloed (aka distributed aka federated) data. For whatever reason, data exists as independent sets. This may be due to a few reasons;</p>

<ul>
  <li>the data is noisy and therefore aligning them takes effort,</li>
  <li>aligning the datasets would start to erode privacy,</li>
  <li>govt agencies don’t talk (need MoUs etc etc),</li>
</ul>

<p>but fundamentally, it comes down to the fact that data collection is often distributed and asynchronous. So they must be aligned at some point.</p>

<h3 id="datasets">Datasets</h3>

<p>Lets start with an example. Take the image below, various govt departments have datasets, and what we would really like is the ability to correlate <code class="language-plaintext highlighter-rouge">diagnoses</code> with other socio-economic factors. This could allow us to learn a predictive model to identify people at risk. But instead, all we have is the recommend treatment and average mortality rates, see the orange dataset (top left).</p>

<p><img src="/images/datasets.png" alt="" /></p>

<h3 id="data-alignment">Data alignment</h3>

<p>What does it mean to align a dataset?</p>

<p>The two hospital datasets can <u>vertically</u> stacked. This means that we can stack the two <code class="language-plaintext highlighter-rouge">names</code> columns ontop of each other thus giving us a <code class="language-plaintext highlighter-rouge">names x diagnoses</code> dataset for Auckland and Wellington. However, a common problem is that someone might have visited both hospitals, thus we need to check all entities for duplicates and resolve them.</p>

<p>In contrast, take the IRD (<code class="language-plaintext highlighter-rouge">name x income</code>) and ministry of education datasets (<code class="language-plaintext highlighter-rouge">name x education level</code>). We can stack these two datasets <u>horizontally</u>. This means we can construct a <code class="language-plaintext highlighter-rouge">name x income x education level</code> dataset. This requires are to align the two datasets by <code class="language-plaintext highlighter-rouge">name</code> and then add two columns, one for income and one for education.</p>

<p>The most useful part about horizontal alignment is that we can now correlate income and education by marginalising out the names (summing over them). We can construct a <code class="language-plaintext highlighter-rouge">income x education level</code> dataset!</p>

<h3 id="a-graphical-representation">A graphical representation</h3>

<p>What is really going on when we vertically or horizontally stack? Are there easier ways to visualise it?</p>

<p>If we draw every distinct column within our many datasets (above) as a node, and then construct edges by using the dataset linking two nodes, we get the picture below.</p>

<p>So vertical staking becomes multiple links between two nodes, see <code class="language-plaintext highlighter-rouge">name x diagnoses</code>. And horizontal stack becomes a new linkage between the original datasets.</p>

<p><img src="/images/integrated.png" alt="" /></p>

<p><em>Note the location node. While I was at NEC we were exploring using location to help us align different datasets, but this framework is far more general, allowing you to align datasets across any shared dimension.</em></p>

<h3 id="tensor-networks">Tensor networks</h3>

<p>For the mathematically inclined, each column adds a dimension to a nd-tensor. The topology of the graph above represents the dual (the transpose hypergraph, see <a href="https://arxiv.org/abs/1710.01437">this paper</a> for more details) of the topology of a tensor network below.</p>

<p><img src="/images/network.png" alt="" /></p>

<p>This network more clearly shows the relationship between the datasets, at each node, and the graph constructed. But I prefer the former as it seems for reasons to come.</p>

<h3 id="traversing-to-find-correlations">Traversing to find correlations</h3>

<p>The coolest part is that, once constructed, we can traverse this graph to correlate two nodes. If two nodes are connected, then, through the edges, we can propagate correlations. Thus, using the example above, we can ask for;</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Income x Education level</code> or</li>
  <li><code class="language-plaintext highlighter-rouge">Welfare received x average cost of treatment</code></li>
  <li>and so on.</li>
</ul>

<p>This seems like an easy interface to use. Drawing lines on gaphs to return their relationship.</p>

<hr />

<p>Open questions;</p>

<ul>
  <li>what does it means to traverse via one path rather than another?</li>
  <li>what is the right way to marginalise over all paths?</li>
  <li>how can these tensors be efficiently stored?</li>
</ul>
:ET