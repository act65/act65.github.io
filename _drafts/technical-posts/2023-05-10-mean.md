---
layout: post
title: Average
subtitle: There is more to averages than I thought!
---

What is an average? What is it for?

We have lots of data. We want to summarise it.
What does all this data tell us?

Imagine we want to answer the question; are people in NZ or Aus more wealthy?
One way to answer this question would be to pair up ...

When the maginitude is important.
Likelihood of rain (\< x ) is more pertinent than the average rainfall.


There are many formal definitions of an average.
Which is the 'right' definiton? Well, that depends on what you want to do with it.

### The arithmetic mean
$$
A(a) = \frac{1}{N}\sum a_i
$$

properties
- one way to interpret this property is by saying that the numbers to the left of the mean are balanced by the numbers to the right. The mean is the only number for which the residuals (deviations from the estimate) sum to zero
- Translation and scale invariant. A(a+x) = A + x. A(ax) = aA.


### The geometric mean
$$
G(a) = \bigg(\prod a_i \bigg)^{\frac{1}{N}}
$$

Equivalently, as the arithmetic mean in logscale:

$$
\exp{\left({{\frac {1}{n}}\sum \ln a_{i}}\right)}
$$

When would we want to use this? When the elements of a combine ???-ly.
For example, what is the average of a 2x, a 3x, and a 13x speed up?

> The geometric mean can be understood in terms of geometry. The geometric mean of two numbers, a a and b b, is the length of one side of a square whose area is equal to the area of a rectangle with sides of lengths a a and b b. Similarly, the geometric mean of three numbers, a a, b b, and c c, is the length of one edge of a cube whose volume is the same as that of a cuboid with sides whose lengths are equal to the three given numbers. 

Ie we are summarising ... the data by the volume of a hypercube.

### The harmonic mean

$$
H(a) = \bigg( \frac{\sum a_i^{-1}}{n} \bigg)^{-1}
$$

> it tends (compared to the arithmetic mean) to mitigate the impact of large outliers and aggravate the impact of small ones.

use case: rates. average speed.

<aside>
## Optimal solutions

Averages as minimisers of cost functions.
Mean, median and mode.

$$
\mathop{\text{argmin}}_x \sum_i (x - x_i)^2
$$

$$
\mathop{\text{argmin}}_x \sum_i (x - x_i)^1
$$

$$
\mathop{\text{argmin}}_x \sum_i (x - x_i)^0
$$

</aside>

## Robust algorithms for calculating averages 

Mean of medians.
Near-optimal mean estimators with respect to general norms

https://arxiv.org/abs/1806.06233

## Efficient algorithms for calculating averages

Reduce all.
Gossip.

Variance reduction?